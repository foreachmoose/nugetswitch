<Window x:Class="NuGetSwitch.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:NuGetSwitch"
        mc:Ignorable="d"
        Height="650" Width="1200" Background="#FF222222" WindowStyle="None" MouseLeftButtonDown="Window_MouseLeftButtonDown">
    <WindowChrome.WindowChrome>
        <WindowChrome GlassFrameThickness="0"
                      CaptionHeight="0"
                      CornerRadius="0"/>
    </WindowChrome.WindowChrome>


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"></RowDefinition>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>


        <Grid>
            <WrapPanel HorizontalAlignment="left" VerticalAlignment="Center">
                <Image Width="30" Height="30" Source="/Resources/Images/app.png" Margin="5,0,0,0" />
                <TextBlock Foreground="White" FontSize="12" Margin="5,0,0,0" VerticalAlignment="Center" Text="{Binding Title}"></TextBlock>
            </WrapPanel>
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right">
                <Button Style="{StaticResource TitleBarButtonStyle}"
                        x:Name="buttonMinimize"
                        Width="30"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        Click="buttonMinimize_Click">
                    <Image Source="/Resources/Images/minimize.png"
                           Width="20"
                           Height="20" />
                </Button>
                <Button Style="{StaticResource TitleBarButtonStyle}"
                        x:Name="buttonMaximize"
                        Width="30"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        Click="buttonMaximize_Click">
                    <Image x:Name="maximizeImage"
                           Source="/Resources/Images/maximize.png"
                           Width="20"
                           Height="20" />
                </Button>
                <Button Style="{StaticResource TitleBarButtonStyle}"
                        x:Name="buttonClose"
                        Width="30"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        WindowChrome.IsHitTestVisibleInChrome="True"
                        Click="buttonClose_Click"
                        Margin="0,0,5,0">
                    <Image Source="/Resources/Images/close.png"
                           Width="20"
                           Height="20" />
                </Button>
            </StackPanel>
        </Grid>


        <Grid Grid.Row="1"> 
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition> <!-- Menu Row -->
            <RowDefinition Height="Auto"></RowDefinition> <!-- Button Row -->
            <RowDefinition Height="*"></RowDefinition> <!-- NuGet Packages Row -->
            <RowDefinition Height="Auto"></RowDefinition> <!-- Splitter-->
            <RowDefinition Height="0.4*"></RowDefinition>
        </Grid.RowDefinitions>

        <Menu Grid.Row="0" Grid.ColumnSpan="5" Background="Transparent">
            <MenuItem Header="_File" Foreground="White" Margin="5">
                <MenuItem Header="_Open Solution..." Foreground="Black" Command="{Binding OpenSolutionCommand}" />
                <MenuItem Header="_Close Solution..." Foreground="Black" Command="{Binding CloseSolutionCommand}" />
                <Separator />
                <MenuItem Header="_Open Solution Folder..." Foreground="Black" Command="{Binding OpenExplorerCommand}" />
            </MenuItem>
        </Menu>


        <UniformGrid Grid.Row="1" Columns="4" HorizontalAlignment="Center" Margin="0,0,0,10">
            <Button Style="{StaticResource ModernButtonStyle}" Margin="5"  Command="{Binding AddLocalReferencesCommand}">Add Local References...</Button>
            <Button Style="{StaticResource ModernButtonStyle}" Margin="5"  Command="{Binding SwitchCommand}">Switch (NuGet > Local)</Button>
            <Button Style="{StaticResource ModernButtonStyle}" Margin="5"  Command="{Binding GitUndoChangesCommand}">Git Undo Changes</Button>
        </UniformGrid>

        <Grid Grid.Row="2">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0.5*"></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition Width="Auto"></ColumnDefinition>
                <ColumnDefinition Width="0.5*"></ColumnDefinition>
            </Grid.ColumnDefinitions>

            <DockPanel>
                <TextBlock Margin="5,0,5,0" DockPanel.Dock="Top" Padding="4" Background="Gray" Foreground="White">NuGet Packages</TextBlock>
                <ListBox x:Name="PackageList" Margin="5,0,5,5"  ItemsSource="{Binding NuGetPackageIds}" SelectedIndex="{Binding SelectedNuGetPackageIndex}"></ListBox>
            </DockPanel>

            <GridSplitter Grid.Column="1" Width="3" Background="Transparent" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></GridSplitter>

            <DockPanel Grid.Column="2">
                <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Background="Gray">
                    <TextBlock Margin="5,0,0,0"  Padding="4" Foreground="White">Local References</TextBlock>
                    <TextBlock Text="-" Foreground="White" Padding="4"></TextBlock>
                    <TextBlock Text="{Binding SelectedItem, ElementName=PackageList}" Foreground="White" Padding="4"></TextBlock>
                </StackPanel>
                <ListBox x:Name="LibrariesListBox" Margin="0,0,0,5" SelectionMode="Extended" ItemsSource="{Binding Libraries}"></ListBox>
            </DockPanel>

            <GridSplitter Grid.Column="3" Width="3" Background="Transparent" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></GridSplitter>

            <DockPanel Grid.Column="4">
                <TextBlock Margin="5,0,5,0" DockPanel.Dock="Top" Padding="4" Background="Gray" VerticalAlignment="Center" Foreground="White">Git Changes (*.csproj)</TextBlock>
                <ListBox Margin="5,0,5,5" ItemsSource="{Binding ModifiedProjectFiles}"></ListBox>
            </DockPanel>
        </Grid>

        <GridSplitter Grid.Row="3" Height="3" Background="Transparent" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"></GridSplitter>

        <DockPanel Grid.Row="4">
            <TextBlock Margin="5,0,5,0" DockPanel.Dock="Top" Padding="4" Background="Gray" Foreground="White">Status</TextBlock>
            <ListBox Margin="5,0,5,5" ItemsSource="{Binding Messages}"></ListBox>
        </DockPanel>
    </Grid>
    </Grid>
</Window>
